# 학습 경로 2 - 랩 2 - 연습 2 - 역할 및 역할 그룹 관리

이 연습에서는 Adatum의 새로운 Microsoft 365 관리자인 Holly Dickson의 역할을 계속 수행하게 됩니다. Adatum의 Microsoft 365 파일럿 프로젝트의 일환으로, 랩 호스팅 공급자에서 만든 여러 Microsoft 365 사용자 계정에 Microsoft 365 관리자 역할을 할당하여 관리 위임을 관리하게 됩니다. 이 연습에서는 1) Microsoft 365 관리 센터에서 사용자 계정에 직접 역할을 할당하는 방법, 2) 역할 그룹을 만들고 역할 그룹에 역할을 할당한 다음 Microsoft 365 관리 센터에서 역할 그룹을 사용자에게 할당하는 방법, 3) Windows PowerShell을 사용하여 사용자에게 역할을 할당하는 방법의 세 가지 방법을 사용하여 이러한 역할을 할당하는 환경을 제공합니다. 기존 사용자 계정 여러 개에 Microsoft 365 관리자 역할을 할당하고 나면 사용자가 해당 역할에 따라 작업할 수 있는 권한이 있는지 확인하여 해당 할당을 테스트합니다. 


### 작업 1 - Microsoft 365 관리 센터에서 관리자 역할 할당

Holly Dickson에게 Microsoft 365 전역 관리자 역할이 할당되었습니다. Holly로 계속 역할을 수행하면서 Microsoft 365 관리 센터를 사용하여 Adatum 사용자 중 한 명에게 관리자 권한을 할당합니다. 이 작업에서는 Diego Siciliani의 사용자 계정에 대금 청구 관리자 역할을 할당합니다.

1. LON-DC1에서의 이전 랩 연습을 완료했습니다. 이제 이 랩 연습의 Microsoft 365 관리 작업을 수행하려면 **LON-CL1**로 다시 전환해야 합니다. 모범 사례로, 일반적인 Microsoft 365 관리 작업은 회사의 도메인 컨트롤러가 아닌 클라이언트 PC에서 수행해야 합니다.  <br/>

    **LON-CL1**으로 전환합니다. 

2. **LON-CL1**에서 Edge 브라우저의 **Microsoft 365 관리 센터**에 이전 랩 연습의 Holly Dickson으로 로그인되어 있어야 합니다. 탐색 창에서 **사용자**를 선택한 다음 **활성 사용자**를 선택합니다. 

3. **활성 사용자** 목록에서 **Diego Siciliani**를 선택합니다.  <br/>

    **참고:** Diego의 이름을 선택하고 이름 왼쪽에 있는 확인란을 선택하지 않습니다. 이 확인란은 일반적으로 **제품 라이선스 관리** 및 **역할 관리**와 같이 사용자 목록 위에 표시되는 메뉴 모음에서 사용자 관련 작업 중 하나를 수행하려는 경우 여러 사용자를 선택하는 데 사용됩니다. 사용자 이름을 선택하면 해당 사용자에 대한 속성 창이 열립니다.

4. 표시되는 **Diego Siciliani** 창에는 기본값으로 **계정** 탭이 표시됩니다. 이 탭에서 **역할** 섹션까지 아래로 스크롤하여 **역할 관리**를 선택합니다. 

5. **관리자 역할 관리** 창에서는 현재 **사용자(관리 센터 액세스 권한 없음)** 옵션이 기본으로 선택되어 있습니다. 이제 Diego에게 관리자 역할을 할당하려면 **관리 센터 액세스** 옵션을 선택합니다. 이렇게 하면 일반적으로 사용되는 관리자 역할 목록을 선택할 수 있습니다. 

6. Diego가 대금 청구 관리자로 승진했지만 이 역할은 일반적으로 사용되는 역할 목록에 나타나지 않으므로 아래로 스크롤하여 **범주별로 모두 표시**를 선택합니다. 

7. 범주별로 정렬된 역할 목록에서 **기타** 범주까지 아래로 스크롤하여 **대금 청구 관리자** 확인란을 선택한 다음 **변경 사항 저장**을 선택합니다. <br/>

    **Tip:** 관리자 역할 변경이 저장되면 창 상단에 표시되는 메시지에 유의합니다. 이 메시지는 실제 배포에서 관리 역할을 유지 관리할 때 염두에 두어야 할 다음과 같은 모범 사례(**권한이 가장 적은 역할을 할당하여 사용자에게 필요한 액세스 권한만 부여**)를 제공합니다.

8. **관리자 역할 관리** 창에서 화면 오른쪽 상단에 있는 **X**를 선택하여 닫습니다. 그러면 **활성 사용자** 목록으로 돌아갑니다. 

9. LON-CL1 및 Microsoft 365 관리 센터에 Holly Dickson으로 로그인한 상태를 유지합니다.

### 작업 2 - Microsoft 365 관리 센터에서 역할 그룹을 사용하여 관리자 역할 할당

이전 작업에서는 Microsoft 365 관리 센터에서 Diego Siciliani의 사용자 계정에 직접 관리자 역할을 할당했습니다. 이 작업에서는 대신 역할 그룹을 사용하여 역할을 할당합니다. 보안 역할 그룹을 만들고, 사용자 관리 역할을 할당하고, Microsoft 365 관리 센터에서 Lynne Robbin의 사용자 계정에 역할 그룹을 할당합니다.

1. LON-CL1에서는 여전히 Holly Dickson으로 Microsoft 365 관리 센터에 로그인해야 합니다. 아직 하지 않았다면 지금 수행합니다.

2. **Microsoft 365 관리 센터**의 탐색 창에서 **Teams 및 그룹**을 선택한 다음 **활성 팀 및 그룹**을 선택합니다. 

3. **활성 팀 및 그룹** 페이지에는 기본적으로 **Teams 및 Microsoft 365 그룹** 탭이 표시됩니다. **보안 그룹** 탭을 선택합니다.

4. **보안 그룹** 탭의 메뉴 모음에서 **+보안 그룹 추가**를 선택합니다. 이렇게 하면 **보안 그룹 추가** 마법사가 시작됩니다.

5. **보안 그룹 추가** 마법사의 **기본 설정** 페이지에서 **이름** 필드에 **User management role group**을 입력합니다. **설명** 필드에 **This role group contains user management roles**를 입력합니다. **다음**을 선택합니다.

6. **설정 편집** 페이지에서 **Azure AD 역할을 그룹에 할당할 수 있음** 확인란을 선택한 후 **다음**을 선택합니다.

7. **그룹 추가 검토 및 완료** 페이지에서 설정을 검토합니다. 설정을 변경해야 하는 경우 적절한 **편집** 옵션을 선택하고 변경합니다. 모든 설정이 올바르면 **프로젝트 만들기**를 선택합니다.

8. **사용자 관리 역할 그룹**이 생성되면 **닫기**를 선택합니다.

9. 이제 역할 그룹을 만들었으므로 해당 역할을 할당해야 합니다. **활성 팀 및 그룹** 페이지에 **보안 그룹** 탭이 표시됩니다. **사용자 관리 역할 그룹**을 선택하여 세부 정보 창을 엽니다.

10. **사용자 관리 역할 그룹** 창에는 기본적으로 **일반** 탭이 표시됩니다. **역할** 섹션에서 **역할 관리**를 선택합니다.

11. 표시되는 **관리자 역할 관리** 창에서 **관리 센터 액세스** 옵션을 선택합니다. 이 옵션 바로 아래에 표시되는 일반 관리자 역할 목록에서 **사용자 관리자** 및 **사용자 환경 성공 관리자** 확인란을 선택합니다. 그런 다음 **범주별로 모두 표시** 옵션을 선택합니다. **ID** 범주까지 아래로 스크롤합니다. **사용자 관리자** 역할은 앞서 일반적으로 사용되는 역할 목록에서 선택했으므로 이미 선택되어 있습니다. 이 **ID** 범주에서 **기술 지원팀 관리자** 역할을 선택한 다음 **변경 사항 저장**을 선택합니다. 

12. **관리자 역할 관리** 창에서 선택한 세 가지 역할이 **관리 센터 액세스** 옵션 아래에 표시됩니다. 창 오른쪽 상단의 **X**를 선택하여 창을 닫습니다.

13. **보안 그룹** 탭에서 **사용자 관리 역할 그룹**을 선택합니다. 표시되는 **사용자 관리 역할 그룹** 창에서 **역할** 섹션에 표시되는 세 가지 역할을 확인합니다. 이 창을 닫습니다.

14. 이제 역할 그룹에 역할을 할당했으므로 Lynne Robbin의 사용자 계정에 역할 그룹을 할당해야 합니다. **Microsoft 365 관리 센터**에서 **활성 사용자**를 선택합니다.

15. **활성 사용자** 페이지에서 **Lynne Robbins**를 선택합니다. 

16. 표시되는 **Lynne Robbins** 창에는 기본적으로 **계정** 탭이 표시됩니다. 이전 작업에서 Diego Siciliani의 계정에 대금 청구 관리자 역할을 할당할 때 **역할** 섹션에서 **역할 관리** 옵션을 선택했습니다. 하지만 역할 그룹을 통해 Lynne의 역할을 할당할 것이므로 방금 만든 보안 역할 그룹의 구성원으로 Lynne을 할당해야 합니다. 그룹 할당을 통해 Lynne은 역할 그룹에 할당된 역할을 상속받게 됩니다. 따라서 **그룹** 섹션에서 **그룹 관리**를 선택합니다. 

17. **그룹 관리** 창에서 **+멤버 자격 할당**을 선택합니다.

18. **멤버 자격 할당** 창에서 **사용자 관리 역할 그룹** 확인란을 선택한 다음 **추가(1)** 을 선택합니다.

19. 페이지 상단에 **저장됨** 알림이 표시되면 이 창을 닫습니다. 

20. Lynne이 사용자 관리 역할 그룹에 할당된 역할을 상속받았는지 확인하려면 활성 사용자 목록에서 **Lynne Robbins**를 선택합니다. 

21. 표시되는 **Lynne Robbins** 창에서 기본적으로 표시되는 **계정** 탭에 Lynne에게 할당된 세 가지 사용자 관리 역할이 표시되어야 합니다. **역할** 섹션에서 **역할 관리**를 선택합니다.

22. 표시되는 **관리자 역할 관리** 창에서 **관리 센터 액세스** 옵션 아래에 선택된 세 가지 역할과 그 역할이 Lynne에게 할당된 그룹의 이름을 확인합니다. 또한 세 가지 역할이 회색으로 표시되는 방법도 확인합니다. 이는 이 창에서 역할의 선택을 취소할 수 없다는 것을 보여줍니다. 이러한 역할이 포함된 역할 그룹에서 Lynne에게 역할이 할당되었으므로 역할 그룹의 구성원인 Lynne을 제거해야만 역할 할당을 취소할 수 있습니다. 방금 Lynne에게 이러한 역할이 할당되었음을 확인했습니다. 이 **관리자 역할 관리** 창을 닫습니다.

23. LON-CL1 및 Microsoft 365 관리 센터에 Holly Dickson으로 로그인한 상태를 유지합니다.

### 작업 3 - Windows PowerShell을 사용하여 관리자 역할 할당  

이 작업에서는 Windows PowerShell을 사용하여 사용자 계정에 역할을 할당합니다. 일부 관리자는 PowerShell을 사용하여 이와 같은 유지 관리를 수행하는 것을 선호하므로 이렇게 하면 PowerShell에서 이 관리 기능을 수행하는 경험을 쌓을 수 있습니다.  

이 작업에서 Holly는 Patti Fernandez를 서비스 지원 관리자 역할에 배정하려고 합니다. Microsoft Graph PowerShell 모듈을 사용하여 관리자 역할에 사용자를 추가하려면 먼저 사용자의 개체 ID와 역할의 개체 ID를 가져와야 합니다. 역할이 아직 사용 설정되지 않은 경우(즉, 사용자에게 할당되지 않았거나 물리적으로 사용 설정되지 않은 경우) 먼저 해당 역할을 사용 설정해야 PowerShell을 사용하여 사용자에게 역할을 할당할 수 있습니다. 이 작업에서는 먼저 서비스 지원 관리자 역할을 Patti Fernandez에게 할당하기 전에 사용 설정합니다.

또한 PowerShell을 사용하면 특정 역할에 할당된 모든 사용자를 표시할 수 있으며, 이는 Microsoft 365 배포를 감사할 때 매우 중요할 수 있습니다. 이 작업에서는 PowerShell을 사용하여 특정 역할에 할당된 모든 사용자를 표시하는 방법도 배웁니다. 

1. LON-CL1의 작업 표시줄에서 이전 에서 열어둔 Windows PowerShell 아이콘을 선택합니다. PowerShell 창을 닫은 경우 이전과 동일한 지침을 사용하여 상승된 인스턴스를 엽니다. 

2. PowerShell 세션은 이전 랩에서 PowerShell을 사용해 삭제된 그룹을 복구했을 때와 마찬가지로 Microsoft Graph PowerShell에 여전히 연결된 상태여야 합니다. 그러나 이전에 PowerShell을 닫았다가 방금 다시 연 경우 이전 랩 연습의 단계를 사용하여 Microsoft.Graph.Identity.DirectoryManagement 하위 모듈을 가져옵니다. 

3. Microsoft Graph PowerShell에서 Microsoft 365 사용자 유지 관리 작업을 수행하려면 먼저 Microsoft.Graph.Users 하위 모듈을 가져와서 읽기/쓰기 권한을 요청해야 합니다. 이 하위 모듈을 가져오려면 명령 프롬프트에 다음 명령을 입력하고 Enter 키를 누릅니다.   <br/>

        Import-Module Microsoft.Graph.Users

4. 이전 랩 연습에서는 Microsoft Graph에 연결하여 삭제된 그룹을 복원하는 cmdlet을 실행하기 위해 "Directory.ReadWrite.All" 권한을 요청했습니다. 이 작업의 사용자 및 역할 개체를 업데이트하려면 이제 각 개체에 대한 읽기/쓰기 권한을 요청해야 합니다. 이러한 권한을 요청하려면 명령 프롬프트에 다음 명령을 입력하고 Enter 키를 누릅니다.  <br/>

        Connect-MgGraph -Scopes 'User.ReadWrite.All', 'RoleManagement.ReadWrite.Directory'

5. 표시되는 **계정 선택** 창에서 Holly Dickson의 계정을 선택합니다. 

6. 표시되는 **요청된 권한** 대화 상자에서 **조직을 대신하여 동의** 확인란을 선택한 다음 **수락**을 선택합니다.

7. Holly는 **Patti Fernandez**를 **서비스 지원 관리자** 역할에 할당하려고 합니다. Microsoft Graph PowerShell을 사용하여 이 역할을 할당하려면 먼저 서비스 지원 관리자 역할의 개체 ID를 가져와야 Patti에게 할당할 수 있습니다. 그러나 Microsoft Graph PowerShell에서는 "사용 설정"된 역할만 할당할 수 있습니다. 사용하도록 설정된 역할은 역할 템플릿에서 사용하도록 설정되었거나 PowerShell 또는 Microsoft 365 관리 센터를 통해 이미 사용자에게 할당된 역할입니다. <br/>

    **중요:** 이 단계를 수행하기 전에 PowerShell 창이 전체 화면 모드에 있는지 확인합니다. 역할 이름은 화면 맨 오른쪽의 마지막 열에 표시됩니다. 전체 화면 모드가 아닌 경우 각 객체 ID와 연결된 역할 이름이 표시되지 않습니다. 

    Microsoft 365에서 사용하도록 설정된 모든 역할을 보려면 명령 프롬프트에 다음 명령을 입력한 다음 Enter 키를 누릅니다. <br/>
    
        Get-MgDirectoryRole    <br/>

    **참고:** 이 명령은 Microsoft 365에서 지금까지 사용하도록 설정된 역할을 표시합니다. 이 목록에 서비스 지원 관리자 역할이 나타나면 바로 13단계로 진행하여 Patti에게 역할을 할당할 수 있습니다. 하지만 서비스 지원 관리자는 이 사용 설정된 역할 목록에 포함되어 있지 않으므로 8~12단계를 수행하여 해당 역할 템플릿에서 역할을 사용 설정해야 13단계에서 Patti를 역할에 배정할 수 있습니다. 

8. Microsoft Graph PowerShell에서 역할을 사용 설정하려면 먼저 해당 템플릿을 찾아서 템플릿의 개체 ID를 가져와야 합니다. 템플릿에서 역할을 사용 설정하려면 템플릿의 개체 ID를 알아야 합니다. 역할 템플릿을 보는 방법에는 두 가지가 있습니다. 전체 역할 템플릿 목록을 표시하거나 특정 역할에 대한 템플릿을 표시할 수 있습니다. 학습 경험으로 두 가지 방법을 모두 수행하여 차이점을 확인할 수 있습니다. <br/>

    먼저 역할 템플릿의 전체 목록을 개체 ID 및 표시 이름과 함께 표시하는 것부터 시작하겠습니다. 이렇게 하려면 다음 명령을 입력한 다음 Enter 키를 누릅니다. <br/>

        Get-MgDirectoryRoleTemplate | Format-List Id, DisplayName   <br/>

    이 명령을 실행한 후 보시다시피 역할 템플릿 목록을 스크롤하여 서비스 지원 관리자 역할을 찾아야 합니다. 굉장히 지루한 작업일 수 있습니다. 또는 다음 명령을 실행하여 특정 역할 템플릿(이 경우에는 "서비스 지원 관리자" 역할 템플릿)을 쿼리할 수 있습니다. <br/>

        Get-MgDirectoryRoleTemplate | ? DisplayName -eq "Service Support Administrator"   <br/>

    이 명령을 실행하면 요청된 역할 템플릿만 표시되는 것을 볼 수 있습니다. 물론 전체 역할 템플릿 목록을 표시해야 하는 경우도 있을 수 있습니다. 그러나 단일 역할 템플릿을 조회해야 하는 경우에는 전체 템플릿 목록을 스크롤해야 하는 것보다 두 번째 PowerShell 명령을 실행하는 것이 훨씬 더 효율적입니다.
    
9. 이전 단계에서 서비스 지원 관리자 역할 템플릿을 쿼리했으므로 이제 해당 **ID**(예: fe930be7-5e62-47db-91af-98c3a49a38b1)를 강조 표시하고 **Ctrl+C** 를 눌러 클립보드에 복사합니다(복사하면 강조 표시가 사라집니다).

10. 이제 서비스 지원 관리자 템플릿의 특성을 캡처하는 변수를 만들 수 있습니다. 다음 명령을 입력할 때 **Ctrl+V** 키를 눌러 이전 단계에서 클립보드에 복사한 서비스 지원 관리자 템플릿 ID를 붙여넣습니다. <br/>

    명령 프롬프트에서 다음 명령을 입력한 후 Enter 키를 누릅니다. <br/>

        $ServiceSupportRoleTemplate = @{ RoleTemplateID = "paste in template ID here" }  <br/>

    예: $ServiceSupportRoleTemplate = @{ RoleTemplateID = "fe930be7-5e62-47db-91af-98c3a49a38b1" }

11. 이제 $ServiceSupportRoleTemplate 변수에서 캡처한 템플릿의 성을 기반으로 서비스 지원 관리자 역할을 사용 설정할 준비가 되었습니다. 다음 명령을 입력하고 Enter 키를 누릅니다.  <br/>

        New-MgDirectoryRole -BodyParameter $ServiceSupportRoleTemplate

12. 서비스 지원 관리자 역할이 사용 설정되었는지 확인하려면 다음 명령을 입력하고 Enter 키를 누릅니다. 이 명령은 사용하도록 설정된 역할 목록을 표시합니다.  <br/>
            
        Get-MgDirectoryRole <br/>

    **참고:** 이 명령은 방금 해당 템플릿에서 사용하도록 설정한 서비스 지원 관리자 역할을 포함하여 사용하도록 설정된 모든 역할의 개체 ID를 표시합니다. 나중에 Patti를 이 역할에 할당할 때 15단계에서 서비스 지원 관리자 역할의 개체 ID를 복사하여 붙여넣습니다.

13. Patti Fernandez를 새로 사용 설정된 서비스 지원 관리자 역할에 할당하려면 먼저 Patti의 사용자 계정에 대한 개체 ID를 얻어야 합니다. 이렇게 하려면 다음 명령을 입력하고 Enter 키를 누릅니다. <br/>

        Get-MgUser | Format-List ID, DisplayName

14. 이제 최근에 사용 설정된 서비스 지원 관리자 역할의 개체 ID와 Patti 사용자 계정의 개체 ID를 알았으므로 Patti에게 역할을 할당할 수 있습니다. 프로세스를 완료하려면 다음을 수행합니다. <br/>

    a. 이전 명령에서는 활성 사용자 목록을 표시했습니다. Patti 계정의 **ID**를 강조 표시하고 클립보드에 복사(**Ctrl+C**)합니다. 강조 표시는 클립보드에 복사되면 사라집니다.  <br/>

    b. 다음 명령을 실행하여 Patti의 사용자 계정에 대한 디렉터리 개체가 포함된 변수를 만듭니다. 이 명령을 입력할 때, 방금 Patti의 사용자 계정을 위해 복사한 ID를 붙여넣기(**Ctrl+V**)합니다. <br/>

        $UserObject = @{ "@odata.id" = "https://graph.microsoft.com/v1.0/directoryObjects/paste in Patti's user account ID here" }  <br/>

    예: $UserObject = @{ "@odata.id" = "https://graph.microsoft.com/v1.0/directoryObjects/22fddbf7-42d2-4698-be65-ebc972a023e3" }

    c. 12단계에서 사용 설정된 역할 목록을 표시했습니다. 서비스 지원 관리자 역할의 ID를 강조 표시하고 클립보드에 복사(**Ctrl+C**)합니다. <br/>

    d. 다음 명령을 실행하여 Patti의 사용자 계정($UserObject)이 포함된 변수를 디렉터리 역할에 할당합니다. 이 명령을 입력할 때, 방금 서비스 지원 관리자 역할을 위해 복사한 ID를 붙여넣기(**Ctrl+V**)합니다. <br/> 

        New-MgDirectoryRoleMemberByRef -DirectoryRoleId 'paste in the ID of the role here' -BodyParameter $UserObject
                
15. 이제 Patti가 서비스 지원 관리자 역할에 할당되었는지 확인하려고 합니다. 이전에 이 역할의 개체 ID를 클립보드에 복사하여 이전 명령에 붙여넣었습니다. 이 명령에도 붙여넣어야 합니다. 다음 명령을 입력하고 Enter 키를 누릅니다.
    
        Get-MgDirectoryRoleMember -DirectoryRoleId 'paste in the ID of the role here' 
                
16. 이전 명령은 선택한 역할에 할당된 사용자의 ID만 표시합니다. 하지만 표시된 ID와 Patti의 ID를 일치시켜 Patti의 계정에 **서비스 지원 관리자** 역할이 할당되었는지 확인할 수 있습니다. 보시는 것처럼 Patti는 역할에 할당된 유일한 사용자입니다. 

17. 이제 이 프로세스를 반복하여 전역 관리자 역할에 할당된 모든 사용자를 확인해 보겠습니다. 15단계를 반복하여 **전역 관리자** 역할에 얼마나 많은 Adatum 사용자가 할당되었는지 확인합니다. 이 명령을 완료하려면 먼저 전역 관리자 역할의 ID를 클립보드에 복사(**Ctrl+C**)해야 합니다. 이 ID는 12단계를 실행했을 때 사용 설정된 역할 목록에서 찾을 수 있습니다. <br/>

    **경고:** 전역 관리자 역할 템플릿의 ID가 아닌 전역 관리자 역할의 ID를 복사합니다.

18. 전역 관리자 역할이 할당된 Adatum 사용자가 여러 명 있는지 확인합니다. 실제 시나리오에서 Microsoft 365 관리자는 이 PowerShell 명령을 사용하여 Microsoft 365 배포에 얼마나 많은 전역 관리자가 있는지 모니터링할 수 있습니다. 그런 다음 정말 필요하지 않은 사용자로부터 전역 관리자 역할을 제거합니다(모범 사례 지침은 조직의 규모에 따라 Microsoft 365 배포에 2~4명의 전역 관리자를 보유하는 것입니다).  <br/>

    이 랩의 경우 랩 호스팅 공급자가 MOD 관리자 이외의 사용자에게 전역 관리자 역할을 할당했지만(Holly Dickson에게 할당), 이러한 사용자는 그대로 둡니다. 이 가상의 Adatum 배포에서는 계정에서 이 역할을 제거하는 데 시간을 낭비할 필요가 없습니다. 또한 향후 랩 작업 중 일부는 전역 관리자 역할이 할당되는 사용자를 기반으로 합니다. <br/>

    **중요:** 실제 배포에서 Microsoft 365 관리자는 할당된 사용자 수를 2~4명으로 유지하기 위해 주기적으로 전역 관리자 역할을 모니터링해야 합니다.
    
19. 향후 랩 연습을 위해 Windows PowerShell 세션을 열어 두되, 다음 작업을 진행하기 전에 세션을 최소화합니다.


### 작업 4 - 역할 할당 확인 

이 작업에서는 먼저 두 사용자, Joni Sherman과 Lynne Robbins의 관리 속성을 살펴보는 것으로 시작합니다. 그런 다음 클라이언트 2 VM(LON-CL2)에서 각 사용자로 Microsoft 365 홈 페이지에 로그인하여 이전 작업에서 관리 위임을 관리할 때 수행한 몇 가지 변경 사항을 확인합니다. 마지막으로 Lynne Robbins는 암호 재설정 및 사용자 계정 차단이라는 두 가지 중요한 사용자 계정 유지 관리 작업을 수행하게 됩니다.

1. LON-CL1에서는 여전히 Holly Dickson으로 Microsoft 365 관리 센터에 로그인해야 합니다. 아직 하지 않았다면 지금 수행합니다.

2. **Microsoft 365 관리 센터**에서 **활성 사용자**가 표시되지 않는 경우 지금 해당 페이지로 이동합니다.  

3. **활성 사용자** 목록에서 **Joni Sherman**을 선택합니다. 

4. **Joni Sherman** 속성 창에서 **계정** 탭은 기본적으로 표시됩니다. **역할** 섹션에서 Joni는 **관리자 액세스 권한 없음**이라고 표시되어 있어야 합니다. 오른쪽 상단 모서리에 있는 **X**를 선택하여 Joni의 속성 창을 닫습니다.

5. **활성 사용자** 목록에서 **Lynne Robbins**를 선택합니다. 

6. **Lynne Robbins** 속성 창에서 Lynne이 **사용자 관리자** 역할을 할당받았다고 표시되어야 합니다. Lynne의 속성 창을 닫습니다.

7. 클라이언트 2 VM(**LON-CL2**)으로 전환합니다.

8. **LON-CL2**의 로그인 화면에서 로컬 **관리자** 계정으로 **Pa55w.rd** 암호를 입력하여 로그인합니다.

9. **네트워크** 창이 나타나면 **예**를 선택합니다.

10. 작업 표시줄에서 **Microsoft Edge** 아이콘을 선택합니다. 필요한 경우 Edge 브라우저 창을 최대화합니다.

11. **Edge** 브라우저에서 **https://portal.office.com**으로 이동합니다. 

12. 먼저 **Joni Sherman**으로 Microsoft 365에 로그인합니다. **로그인** 창에서 **JoniS@xxxxxZZZZZZ.onmicrosoft.com**을 입력합니다(여기서 xxxxxZZZZZZ는 랩 호스팅 공급자가 제공한 테넌트 접두사입니다). Joni Sherman으로 로그인하고 있으므로 **암호 입력** 창에 랩 호스팅 공급자가 제공한 이 **사용자 암호**를 입력합니다. <br>

    **암호 업데이트** 대화 상자가 나타나면 **현재 암호** 필드에 랩 호스팅 공급자가 제공한 **사용자 암호**를 입력합니다. 그런 다음 **새 암호** 및 **암호 확인** 필드에 새 사용자 암호를 입력하고 **로그인**을 선택합니다.

13. **로그인 상태를 유지하시겠습니까? ** 창에서 **다시 표시하지 않음** 확인란을 선택한 다음 **예**를 선택합니다. **암호 저장** 창이 나타나면 **안 함**을 선택합니다.

14. 페이지 중간에 **Microsoft 365 시작** 대화 상자가 나타나면 앞으로 화살표(>)를 두 번 선택한 다음 확인 표시를 선택하여 대화 상자를 닫습니다.

15. **더 많은 앱 찾기** 창이나 **Microsoft 365를 사용하여 만들기** 창 또는 기타 소개형 창이 나타나면 창 상단의 **X**를 선택하고 닫습니다.

16. Joni의 Microsoft 365 홈 페이지인 **Microsoft 365 시작** 창에서 사용자에게 액세스 권한이 있는 애플리케이션을 나타내는 탐색 창이 화면 측면에 나타납니다. 이 **앱** 창에서 **관리자** 옵션이 표시되지 않는 점에 유의합니다. Joni에 Microsoft 365 관리자 역할이 할당되지 않았기 때문입니다. 

17. 이제 Joni로 Microsoft 365에서 로그아웃합니다. **Microsoft Edge**의 **Microsoft 365 시작** 페이지 오른쪽 상단에서 **Joni Sherman**의 사용자 아이콘(Joni의 사진이 있는 상단 모서리의 원)을 선택하고 이때 나타나는 **Joni Sherman** 창에서 **로그아웃.** 을 선택합니다. 

18. 이제 **Lynne Robbins**로 Microsoft 365에 다시 로그인합니다. 현재 **Edge** 브라우저 탭에 **Joni가 지금 로그아웃했습니다**라는 메시지가 표시되어야 합니다. 이 창에서는 Joni로 다시 로그인하거나 다른 사용자로 로그인할 수 있는 옵션이 제공됩니다. <br/>

    **다른 계정으로 전환**을 선택하고 표시되는 **이메일 주소** 필드에 **LynneR@xxxxxZZZZZZ.onmicrosoft.com**(여기서 xxxxxZZZZ는 랩 호스팅 공급자가 제공한 테넌트 접두사) 입력 후 **로그인**을 선택합니다. **암호 입력** 창에서 랩 호스팅 공급자가 제공한 **사용자 암호**를 입력하고 **로그인**을 선택합니다. <br>

    **암호 업데이트** 대화 상자가 나타나면 **현재 암호** 필드에 랩 호스팅 공급자가 제공한 **사용자 암호**를 입력합니다. 그런 다음 **새 암호** 및 **암호 확인** 필드에 새 사용자 암호를 입력하고 **로그인**을 선택합니다. 

19. **Microsoft 365 시작** 대화 상자가 나타나면 앞으로 화살표(>)를 두 번 선택한 다음 확인 표시를 선택하여 창을 닫습니다.

20. **더 많은 앱 찾기** 창이나 **Microsoft 365를 사용하여 만들기** 창 또는 기타 소개형 창이 나타나면 창 상단의 **X**를 선택하고 닫습니다.

21. Lynne의 Microsoft 365 홈페이지인 **Microsoft 365 시작** 창에서 화면 측면의 탐색 창에 **관리자** 아이콘이 어떻게 표시되는지 확인합니다. 이 아이콘은 Lynne이 Microsoft 365 관리자 역할에 할당되었기 때문에 나타납니다. **관리자** 아이콘을 선택하여 Microsoft 365 관리 센터를 엽니다.

22. **Microsoft 365 관리 센터**의 탐색 창에서 **사용자**를 선택한 다음 **활성 사용자**를 선택합니다. 

23. **사용자 관리자**로서 Lynne은 사용자 암호를 변경할 수 있는 권한을 가집니다. Lynne은 최근 **Diego Siciliani**와 **Pradeep Gupta**로부터 연락을 받았으며, 두 사람 모두 암호가 유출된 것 같다고 보고했습니다. Adatum의 회사 정책에 따라 Lynne은 암호를 임시 값으로 재설정하고 다음 로그인 시 암호를 강제로 설정해야 합니다.   <br/>

    **활성 사용자** 목록에서 한 사용자 계정에서 다른 사용자 계정으로 마우스를 이동할 때 각 사용자 이름 오른쪽에 나타나는 **키(암호 재설정)** 아이콘을 확인합니다. **Diego Siciliani**의 이름 오른쪽에 나타나는 키 아이콘을 선택합니다.

24. Diego의 **암호 재설정** 창에서 **자동으로 암호 만들기** 확인란에 확인 표시가 나타나면 이 확인란을 선택 취소합니다. 이렇게 하면 Lynne은 Diego에게 임시 암호를 수동으로 할당할 수 있습니다.  

25. **암호** 필드에 **diego**를 입력합니다. 암호 오른쪽에 **약한** 암호임을 나타내는 메시지가 표시됩니다. 또한 강력한 암호의 요구 사항을 나타내는 필드 아래에 표시되는 메시지에 유의합니다. 마지막으로 창 하단의 **암호 재설정** 버튼이 활성화되어 있지 않은지 확인합니다. **이 버튼은 강력한 암호를 입력한 경우에만 활성화됩니다**.  

26. **이 사용자가 처음 로그인할 때 암호를 변경하도록 설정** 확인란이 선택되어 있는지 확인합니다(선택되어 있지 않은 경우 지금 선택하면 확인 표시가 나타납니다). **암호** 필드에 **Pa55w.rd**를 입력합니다. **암호** 필드는 해당 암호가 강력한 암호임을 보여주고 있습니다. <br/>

    그러나 이제 **이 사용자가 처음 로그인할 때 암호를 변경하도록 설정** 확인란의 선택을 취소합니다. 비밀번호(Pa55w.rd)에 쉽게 추측할 수 있는 단어나 구 또는 일련의 숫자가 포함되어 있다는 오류 메시지가 표시되면 주의합니다. 이 경우 **password**라는 단어의 변형을 입력했기 때문에 이러한 오류가 발생하게 됩니다. 사용자가 처음 로그인할 때 암호를 변경하도록 강제하면 시스템에서 이 암호를 입력할 수 있습니다. 하지만 사용자가 처음 로그인할 때 다른 암호를 입력하도록 강제하지 않는다면 이 암호는 허용되지 않습니다.

27. 두 번의 암호 시도를 실패한 후 Lynne은 Microsoft 365에서 자동으로 암호를 생성하도록 결정했습니다. **자동으로 암호 만들기** 확인란을 선택하여 확인 표시가 나타나도록 합니다. 
    
28. 자동으로 생성되는 암호는 임시 암호일 뿐이며, Lynne은 Diego가 다음에 로그인할 때 암호를 변경하도록 할 예정입니다. 따라서 **이 사용자가 처음 로그인할 때 암호를 변경하도록 요구** 확인란에 확인 표시가 있는지 확인합니다. 확인란의 선택이 해제되어 있으면 선택하여 확인 표시가 보이도록 합니다.

29. **암호 다시 설정**을 선택합니다.

30. 암호를 저장할지 묻는 메시지가 표시되면 **안 함**을 선택하여 창을 닫습니다.

31. Diego에게 관리자 역할이 할당되었기 때문에 Diego의 암호를 재설정할 수 없음을 나타내는 오류 메시지가 표시됩니다. Diego의 경우 이 랩 연습의 앞부분에서 대금 청구 관리자 역할을 할당했습니다. 전역 관리자만 다른 관리자의 암호를 변경할 수 있고, Lynne은 전역 관리자가 아니므로 Holly Dickson에게 이 변경을 요청해야 합니다. **암호 재설정** 창에서 **닫기**를 선택합니다. 

32. 설문 조사 요청 창이 나타나면 **취소**를 선택합니다.

33. 이제 Pradeep Gupta의 암호를 변경하려고 합니다. **활성 사용자** 목록에서 **Pradeep Gupta** 오른쪽에 표시되는 **키(암호 재설정)** 아이콘을 선택합니다. 

34. Pradeep에 대해 표시되는 **암호 재설정** 창에서 **자동으로 암호 만들기** 확인란에 확인 표시가 있는지 확인합니다. 그렇지 않은 경우 지금 이 확인란을 선택하여 시스템에서 Pradeep에 대한 암호를 자동으로 생성할 수 있도록 합니다.  <br/>

    Lynne은 다음에 로그인할 때 Pradeep이 강제로 암호를 변경하도록 할 예정이므로, 지금 만드는 암호는 임시 암호일 뿐입니다. 따라서 **이 사용자가 처음 로그인할 때 암호를 변경하도록 요구** 확인란에 확인 표시가 있는지 확인합니다. 확인란의 선택이 해제되어 있으면 선택하여 확인 표시가 보이도록 합니다.
    
35. **암호 재설정** 버튼을 선택합니다.

36. **암호가 재설정됨** 창에 Pradeep의 암호를 성공적으로 재설정했다는 메시지가 표시되어야 합니다. **닫기**를 선택합니다.

37. 경영진은 최근 Alex Wilber의 사용자 이름이 손상되었을 가능성이 있음을 포착했습니다. 그 결과, Lynne은 경영진이 문제의 심각도를 판단할 수 있을 때까지 아무도 Alex의 사용자 이름으로 로그인할 수 없도록 계정을 차단하라는 요청을 받았습니다. **활성 사용자** 목록에서 **Alex Wilber**의 이름 왼쪽에 있는 확인란을 선택합니다(Alex의 이름 자체를 선택하는 것이 아닙니다).  <br/>

    **중요:** Alex의 계정과 연결된 명령이 아닌 전역 명령을 실행할 예정이므로 활성 사용자 목록에서 Alex의 계정만 선택해야 합니다. 다른 사용자 계정을 선택한 경우 계속하기 전에 해당 사용자 계정의 선택을 취소해야 합니다. 활성 사용자 목록을 스크롤하여 다른 사용자 계정이 선택되지 않았는지 확인합니다. Alex 이외의 계정이 선택되어 있는 경우 해당 계정의 확인란을 선택하여 선택 상태를 해제합니다. **Alex Wilber의 계정만 선택해야 합니다.**

38. 페이지 위쪽의 메뉴 모음에서 **줄임표 아이콘(...)** 을 선택하여 추가 작업 드롭다운 메뉴를 표시합니다. 표시되는 메뉴에서 **로그인 상태 편집**을 선택합니다.

39. 표시되는 **로그인 차단** 창에서 Alex의 이메일 주소가 **로그인 차단** 제목 아래에 표시되는지 확인합니다. **이 사용자의 로그인 차단** 확인란을 선택한 다음 **변경 내용 저장**을 선택합니다. 

40. **로그인 차단** 창에는 Alex의 로그인이 차단되었다는 메시지가 표시되어야 합니다. 또한 Alex의 사용자 이름이 실제로 손상된 경우, 아무도 해당 사용자 이름으로 로그인할 수 없습니다. 또한 Alex는 60분 이내에 Microsoft 서비스에서 자동으로 로그아웃됩니다. 창 상단 모서리에 있는 **X**를 선택하여 창을 닫습니다. 

41. Lynne은 **Nestor Wilke**의 사용자 이름도 손상되었을 가능성이 있다는 알림을 받았습니다. 37~40단계를 반복하여 Nestor의 로그인을 차단하고 다른 사용자도 Nestor의 사용자 이름으로 로그인하지 못하도록 차단합니다. <br/>

    Nestor의 로그인을 차단하려고 하면 **변경 내용을 저장할 수 없음**이라는 내용의 오류 메시지가 표시되어야 합니다. 이 오류가 발생한 이유는 Nestor는 전역 관리자이고 Lynne은 아니기 때문입니다. 전역 관리자만이 다른 전역 관리자가 로그인할 수 없도록 차단할 수 있습니다. Lynne은 Holly Dickson에게 이 변경을 수행하도록 요청해야 합니다. <br/>

    **로그인 차단** 창을 닫습니다.

42. 앞서 Alex Wilber가 로그인할 수 없도록 차단했습니다. Alex가 차단되었는지 확인하기 위해 Alex로 로그인을 시도해 보겠습니다. **Lynne Robbins**의 사용자 아이콘(위쪽 모서리 Lynne의 사진이 있는 원)을 선택하면 나타나는 **Lynne Robbins** 창에서 **로그아웃**을 선택하여 Microsoft 365에서 로그아웃합니다. 

43. 로그아웃한 다음에는 **로그아웃** 탭을 제외한 브라우저 탭을 모두 닫는 것이 모범 사례입니다. **로그아웃** 탭에서 **https://portal.office.com** 페이지로 이동합니다. 

44. **계정 선택** 창에서 **다른 계정 사용**을 선택합니다. **로그인** 창에 **AlexW@xxxxxZZZZZZ.onmicrosoft.com** 계정을 입력합니다(여기서 xxxxxZZZZZZ는 랩 호스팅 공급자가 제공한 테넌트 접두사). **암호 입력** 창에 랩 호스팅 공급자가 제공한 **사용자 암호**를 입력합니다.  <br/>

    **계정 선택** 창이 나타나고 **계정이 잠겼습니다. 지원 담당자에게 문의하여 잠금을 해제한 다음 다시 시도하세요.** 라는 오류 메시지가 표시되어야 합니다. 이제 Alex(또는 Alex의 사용자 이름 및 암호를 얻은 사람)가 로그인할 수 없음을 확인했습니다. <br/>

    **참고:** 계정 차단이 완전히 구현되는 데 몇 분 정도 걸릴 수 있습니다. 시스템에서 차단이 구현될 때까지 Alex는 로그온할 수 있지만 Microsoft 365 서비스는 사용할 수 없으며 Microsoft 365 포털에도 표시되지 않습니다. 계정의 차단이 해제되면 서비스를 다시 사용할 수 있게 됩니다. <br/>

    Alex로 로그인할 수 있는 경우 로그아웃하고 몇 분 정도 기다립니다. 이 틈에 잠시 휴식을 취하는 것도 좋습니다. 그런 다음 다시 Alex로 로그인을 시도합니다. 이번에는 Alex의 계정이 로그인이 차단되었음을 나타내는 오류 메시지가 표시되어야 합니다. 
    
45. **LON-CL1**로 돌아갑니다. 

46. **LON-CL1**에서는 Edge 브라우저에서 여전히 Holly Dickson으로 **Microsoft 365**에 로그인된 상태여야 합니다. 이 작업에서 이전에 연 대로 **Microsoft 365 관리 센터**에 **활성 사용자** 목록이 표시되어야 합니다. 

47. 추가적인 조사를 시행한 후 Adatum의 CTO는 Alex Wilber의 계정이 실제로 손상되지 않았다고 판단했습니다. 따라서 CTO는 Holly에게 Alex의 사용자 계정 차단을 해제하도록 요청했습니다. 37~40단계를 반복하여 계정 차단을 해제합니다. 39단계의 **로그인 차단** 창이 이제 **로그인 차단 해제** 창으로 표시된다는 점에 유의합니다.  <br/>

    지금은 **로그인 차단 해제** 창에서 **이 사용자의 로그인 차단** 확인란이 선택되어 있습니다. 이 확인란을 선택하여 기존 선택을 취소한 다음 **변경 내용 저장**을 선택합니다. <br/>
    
    **중요:** Alex가 다시 로그인할 수 있을 때까지 최대 15분이 걸릴 수 있다는 경고 메시지가 표시됩니다. 학습 시간이 제한되어 있으므로 Alex가 다시 로그인할 수 있는지 여부를 확인하지 **않습니다** . 원하는 경우 나중에 쉬는 시간이나 남는 시간에 Alex로 로그인해 볼 수 있습니다. 지금은 LON-CL1에서 나가지 말고 **로그인 차단 해제** 창을 닫기만 합니다.
    
48. LON-CL1에서 브라우저와 모든 탭을 열어 두고 다음 연습을 진행합니다. 


# 랩 2 종료

